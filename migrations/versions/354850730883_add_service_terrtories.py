"""Add service_terrtories.

Revision ID: 354850730883
Revises: 29d443aadf25
Create Date: 2023-04-27 16:02:41.803592
"""
import sqlalchemy as sa
from alembic import op

# revision identifiers, used by Alembic.
revision = "354850730883"
down_revision = "29d443aadf25"
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table(
        "compiled_geometry_utility_eia861",
        sa.Column(
            "county_id_fips",
            sa.Text(),
            nullable=False,
            comment="County ID from the Federal Information Processing Standard Publication 6-4.",
        ),
        sa.Column(
            "county_name_census",
            sa.Text(),
            nullable=True,
            comment="County name as specified in Census DP1 Data.",
        ),
        sa.Column(
            "population",
            sa.Float(),
            nullable=True,
            comment="County population, sourced from Census DP1 data.",
        ),
        sa.Column("area_km2", sa.Float(), nullable=True, comment="County area in km2."),
        sa.Column("report_date", sa.Date(), nullable=False, comment="Date reported."),
        sa.Column(
            "utility_id_eia",
            sa.Integer(),
            nullable=False,
            comment="The EIA Utility Identification number.",
        ),
        sa.Column(
            "state",
            sa.Text(),
            nullable=True,
            comment="Two letter US state abbreviation.",
        ),
        sa.Column("county", sa.Text(), nullable=True, comment="County name."),
        sa.Column(
            "state_id_fips",
            sa.Text(),
            nullable=True,
            comment="Two digit state FIPS code.",
        ),
        sa.ForeignKeyConstraint(
            ["utility_id_eia", "report_date"],
            ["utilities_eia860.utility_id_eia", "utilities_eia860.report_date"],
        ),
        sa.PrimaryKeyConstraint("utility_id_eia", "report_date", "county_id_fips"),
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table("compiled_geometry_utility_eia861")
    # ### end Alembic commands ###
